<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gumbaynggirr Connect • v4</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Ionicons -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <!-- Manrope font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@300..800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primaryOchre: "#d4a574",
              deepEarth: "#8b4513",
              riverBlue: "#4a90a4",
              sunsetRed: "#cc6b49",
              warmWhite: "#fef7f0",
              softGrey: "#f5f5f0",
              textDark: "#2d2d2a",
              textMedium: "#5d5d5a",
              successGreen: "#4a7c59",
              warningAmber: "#e6b800",
              errorClay: "#b85450",
            },
            boxShadow: {
              elevate: "0 12px 24px rgba(139, 69, 19, 0.15)",
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="min-h-screen bg-[var(--warm-white)] text-[var(--text-dark)] antialiased"
  >
    <div id="app" class="max-w-md mx-auto min-h-screen flex flex-col">
      <!-- Top App Bar -->
      <header
        class="sticky top-0 z-20 backdrop-blur bg-warmWhite/80 border-b border-softGrey"
      >
        <div class="px-4 py-3 flex items-center justify-between">
          <button id="backBtn" class="text-deepEarth hidden" aria-label="Back">
            <ion-icon name="arrow-back-outline"></ion-icon>
          </button>
          <h1 class="font-semibold text-lg">Gumbaynggirr Connect</h1>
          <button id="settingsBtn" class="text-deepEarth" aria-label="Settings">
            <ion-icon name="settings-outline"></ion-icon>
          </button>
        </div>
      </header>

      <!-- Content -->
      <main id="screens" class="flex-1">
        <!-- Screen: Welcome -->
        <section
          id="screen-welcome"
          class="screen-transition px-4 py-8 space-y-6 min-h-[calc(100vh-52px)] flex flex-col"
        >
          <div class="text-center space-y-2">
            <div class="text-4xl text-primaryOchre">
              <ion-icon name="sunny-outline"></ion-icon>
            </div>
            <div class="text-2xl font-semibold tracking-wide">Gumbaynggirr</div>
            <div class="text-xl text-textMedium">Connect</div>
          </div>
          <div class="flex-1 space-y-4">
            <!-- Quick Actions Grid -->
            <div class="grid grid-cols-2 gap-4">
              <button
                id="welcomeLocations"
                class="rounded-2xl bg-white border border-softGrey p-5 shadow hover:shadow-elevate text-left btn-action"
              >
                <div class="flex items-start gap-3">
                  <div class="text-riverBlue text-2xl">
                    <ion-icon name="location-outline"></ion-icon>
                  </div>
                  <div>
                    <div class="font-semibold">Locations</div>
                    <div class="text-sm text-textMedium">Find venues</div>
                  </div>
                </div>
              </button>

              <button
                id="welcomeVoice"
                class="rounded-2xl bg-white border border-softGrey p-5 shadow hover:shadow-elevate text-left btn-action"
              >
                <div class="flex items-start gap-3">
                  <div class="text-sunsetRed text-2xl">
                    <ion-icon name="mic-outline"></ion-icon>
                  </div>
                  <div>
                    <div class="font-semibold">Voice Notes</div>
                    <div class="text-sm text-textMedium">Record thoughts</div>
                  </div>
                </div>
              </button>

              <button
                id="welcomeCommunity"
                class="rounded-2xl bg-white border border-softGrey p-5 shadow hover:shadow-elevate text-left btn-action"
              >
                <div class="flex items-start gap-3">
                  <div class="text-primaryOchre text-2xl">
                    <ion-icon name="people-outline"></ion-icon>
                  </div>
                  <div>
                    <div class="font-semibold">Community</div>
                    <div class="text-sm text-textMedium">
                      Connect with others
                    </div>
                  </div>
                </div>
              </button>

              <div
                class="rounded-2xl bg-white border border-softGrey p-5 shadow"
              >
                <div class="flex items-start gap-3">
                  <div class="text-successGreen text-2xl">
                    <ion-icon name="wifi-outline"></ion-icon>
                  </div>
                  <div>
                    <div class="font-semibold">Offline Ready</div>
                    <div class="text-sm text-textMedium">Works anywhere</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="rounded-xl bg-softGrey p-5 shadow-elevate">
              <div class="flex items-center gap-3">
                <div class="text-sunsetRed text-xl">
                  <ion-icon name="calendar-outline"></ion-icon>
                </div>
                <div>
                  <div class="font-medium">View Community Events</div>
                  <div class="text-sm text-textMedium">
                    Stay connected to culture
                  </div>
                </div>
              </div>
              <button
                id="viewEventsBtn"
                class="mt-4 w-full bg-primaryOchre text-white font-medium py-2 rounded-lg hover:opacity-95 transition btn-action"
              >
                Open Calendar
              </button>
            </div>
          </div>
          <div
            class="flex items-center justify-between text-sm text-textMedium"
          >
            <div class="flex items-center gap-2">
              <ion-icon
                class="text-successGreen"
                name="cellular-outline"
              ></ion-icon>
              <span>Online</span>
            </div>
            <div>
              Last sync: <span id="lastSync">—</span>
              <button id="refreshSync" class="ml-2 underline">Refresh</button>
            </div>
          </div>

          <div class="opacity-70 text-center text-sm">
            Subtle cultural motif
          </div>
        </section>

        <!-- Screen: Calendar -->
        <section
          id="screen-calendar"
          class="screen-transition hidden px-4 py-4 space-y-4 select-none"
        >
          <!-- Month Navigator -->
          <div class="flex items-center justify-between">
            <button
              id="prevMonth"
              class="p-2 btn-action"
              aria-label="Previous Month"
            >
              <ion-icon name="chevron-back-outline"></ion-icon>
            </button>
            <div class="font-semibold" id="monthLabel">September 2025</div>
            <button
              id="nextMonth"
              class="p-2 btn-action"
              aria-label="Next Month"
            >
              <ion-icon name="chevron-forward-outline"></ion-icon>
            </button>
          </div>

          <!-- Accessibility Helper -->
          <div
            class="text-center text-xs text-textMedium bg-softGrey rounded-lg p-2"
          >
            <ion-icon class="mr-1" name="hand-left-outline"></ion-icon>
            Swipe left/right to change month • Tap dates to view events
          </div>

          <!-- Weekday headers -->
          <div class="grid grid-cols-7 text-center text-xs text-textMedium">
            <div>S</div>
            <div>M</div>
            <div>T</div>
            <div>W</div>
            <div>T</div>
            <div>F</div>
            <div>S</div>
          </div>

          <!-- Calendar Grid -->
          <div id="calendarGrid" class="grid grid-cols-7 gap-1"></div>

          <!-- Bottom Sheet: Today Events -->
          <div class="mt-4">
            <div class="text-sm font-semibold mb-2">Today's Events</div>
            <div id="todayEvents" class="space-y-2"></div>
          </div>

          <!-- Pull to Refresh Helper -->
          <div class="text-center text-xs text-textMedium mt-4">
            <ion-icon class="mr-1" name="arrow-down-outline"></ion-icon>
            Pull down to refresh events
          </div>
        </section>

        <!-- Screen: Event Details -->
        <section
          id="screen-event"
          class="screen-transition hidden px-4 py-4 space-y-4"
        >
          <div class="rounded-xl overflow-hidden bg-softGrey">
            <div
              class="h-36 bg-gradient-to-r from-primaryOchre to-sunsetRed"
            ></div>
            <div class="p-4 space-y-1">
              <div id="eventTitle" class="text-lg font-semibold event-title">
                —
              </div>
              <div id="eventMeta" class="text-sm text-textMedium">—</div>
              <div id="eventPlace" class="text-sm">—</div>
              <div id="eventHost" class="text-sm">—</div>
            </div>
          </div>

          <!-- Accessibility Helper -->
          <div
            class="text-center text-xs text-textMedium bg-softGrey rounded-lg p-2"
          >
            <ion-icon class="mr-1" name="information-circle-outline"></ion-icon>
            Tap buttons below to save, view map, record notes, or download
            offline
          </div>

          <!-- Action Buttons Row -->
          <div class="grid grid-cols-4 gap-2">
            <button
              id="btnSave"
              class="rounded-lg border border-softGrey py-2 bg-white btn-action"
            >
              <div class="text-xl">
                <ion-icon name="calendar-clear-outline"></ion-icon>
              </div>
              <div class="text-xs">Save</div>
            </button>
            <button
              id="btnMap"
              class="rounded-lg border border-softGrey py-2 bg-white btn-action"
            >
              <div class="text-xl">
                <ion-icon name="map-outline"></ion-icon>
              </div>
              <div class="text-xs">Map</div>
            </button>
            <button
              id="btnRecord"
              class="rounded-lg border border-softGrey py-2 bg-white btn-action"
            >
              <div class="text-xl">
                <ion-icon name="mic-outline"></ion-icon>
              </div>
              <div class="text-xs">Rec</div>
            </button>
            <button
              id="btnOffline"
              class="rounded-lg border border-softGrey py-2 bg-white btn-action"
            >
              <div class="text-xl">
                <ion-icon name="download-outline"></ion-icon>
              </div>
              <div class="text-xs">Off</div>
            </button>
          </div>

          <!-- Location & Directions Card -->
          <div class="rounded-xl bg-white p-4 shadow-sm border border-softGrey">
            <div class="flex items-center gap-3 mb-3">
              <div
                class="w-8 h-8 rounded-full bg-softGrey flex items-center justify-center"
              >
                <ion-icon
                  class="text-textMedium"
                  name="location-outline"
                ></ion-icon>
              </div>
              <div class="font-semibold text-lg">Location & Directions</div>
            </div>

            <div class="space-y-3">
              <div class="flex items-center gap-2">
                <ion-icon
                  class="text-textMedium"
                  name="business-outline"
                ></ion-icon>
                <span id="eventVenueName" class="font-medium">—</span>
              </div>

              <div class="flex items-center gap-2 text-sm text-textMedium">
                <ion-icon name="navigate-outline"></ion-icon>
                <span id="eventDistance">8910.4km away</span>
                <ion-icon class="ml-2" name="time-outline"></ion-icon>
                <span id="eventDriveTime">178h 13m drive</span>
              </div>

              <div class="flex gap-2">
                <button
                  id="getDirections"
                  class="flex-1 bg-deepEarth text-white py-2 px-4 rounded-lg btn-action flex items-center justify-center gap-2"
                >
                  <ion-icon name="navigate-circle-outline"></ion-icon>
                  Directions
                </button>
                <button
                  id="openMapFromCard"
                  class="bg-white border border-softGrey py-2 px-4 rounded-lg btn-action flex items-center justify-center gap-2"
                >
                  <ion-icon name="map-outline"></ion-icon>
                  View Map
                </button>
              </div>

              <div class="bg-softGrey rounded-lg p-3 text-sm">
                <div class="font-medium text-textDark mb-1">
                  Getting to Country:
                </div>
                <div class="text-textMedium">
                  All our venues are on traditional Gumbaynggirr land. Please
                  travel safely and respectfully through our country.
                </div>
              </div>
            </div>
          </div>

          <!-- Cultural Voice Note Card -->
          <div class="rounded-xl bg-white p-4 shadow-sm border border-softGrey">
            <div class="flex items-center gap-3 mb-3">
              <div
                class="w-8 h-8 rounded-full bg-softGrey flex items-center justify-center"
              >
                <ion-icon class="text-textMedium" name="mic-outline"></ion-icon>
              </div>
              <div class="font-semibold text-lg">Cultural Voice Note</div>
            </div>

            <div class="text-sm text-textMedium mb-4">
              Record your thoughts about
              <span id="eventNameInVoice" class="font-medium text-textDark"
                >Bush Medicine Workshop</span
              >
            </div>

            <!-- Recording Interface -->
            <div id="recordingInterface" class="space-y-4">
              <!-- Record Button -->
              <button
                id="recordFromCard"
                class="w-full bg-deepEarth text-white py-3 px-4 rounded-lg btn-action flex items-center justify-center gap-2"
              >
                <ion-icon name="mic-outline"></ion-icon>
                <span>Start Recording</span>
              </button>

              <!-- Voice Spectrum (hidden by default) -->
              <div id="voiceSpectrum" class="hidden bg-softGrey rounded-lg p-4">
                <div class="flex items-center justify-center gap-1 h-12">
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-4 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-6 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-8 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-6 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-10 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-4 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-8 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-6 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-12 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-4 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-6 rounded-full"
                  ></div>
                  <div
                    class="spectrum-bar bg-sunsetRed w-1 h-8 rounded-full"
                  ></div>
                </div>
                <div class="text-center text-sm text-textMedium mt-2">
                  <span id="recordingTimer">00:00</span>
                </div>
              </div>
            </div>

            <!-- Saved Voice Note (hidden by default) -->
            <div id="savedVoiceNote" class="hidden space-y-3">
              <div id="customAudioPlayer" class="bg-softGrey rounded-lg p-4">
                <div class="flex items-center gap-3">
                  <button
                    id="playPauseBtn"
                    class="w-10 h-10 bg-deepEarth text-white rounded-full flex items-center justify-center btn-action"
                  >
                    <ion-icon name="play"></ion-icon>
                  </button>
                  <div class="flex-1">
                    <div class="bg-white rounded-full h-2 overflow-hidden">
                      <div
                        id="progressBar"
                        class="bg-deepEarth h-full w-0 transition-all duration-100"
                      ></div>
                    </div>
                    <div
                      class="flex justify-between text-xs text-textMedium mt-1"
                    >
                      <span id="currentTime">0:00</span>
                      <span id="totalDuration">0:00</span>
                    </div>
                  </div>
                  <button
                    id="deleteRecording"
                    class="w-8 h-8 text-errorClay hover:bg-errorClay hover:text-white rounded-full flex items-center justify-center btn-action"
                  >
                    <ion-icon name="trash-outline"></ion-icon>
                  </button>
                </div>
                <audio id="hiddenAudio" preload="metadata"></audio>
              </div>

              <div class="bg-softGrey rounded-lg p-3 text-sm">
                <div class="font-medium text-textDark mb-1">Cultural Note:</div>
                <div class="text-textMedium">
                  Voice recordings help preserve our thoughts and reflections
                  about cultural events. These notes are stored locally on your
                  device and can be shared with community members.
                </div>
              </div>
            </div>
          </div>

          <!-- Expandable Cards -->
          <details class="rounded-lg bg-white p-4 shadow">
            <summary class="cursor-pointer font-medium">
              About this gathering
            </summary>
            <p id="eventAbout" class="mt-2 text-sm text-textMedium"></p>
          </details>
          <details class="rounded-lg bg-white p-4 shadow">
            <summary class="cursor-pointer font-medium">What to bring</summary>
            <p id="eventBring" class="mt-2 text-sm text-textMedium"></p>
          </details>
          <details class="rounded-lg bg-white p-4 shadow">
            <summary class="cursor-pointer font-medium">
              Cultural significance
            </summary>
            <p id="eventCulture" class="mt-2 text-sm text-textMedium"></p>
          </details>

          <div class="text-sm text-successGreen">Available offline</div>
        </section>
      </main>

      <!-- Bottom Nav (optional placeholder) -->
      <footer class="py-3"></footer>
    </div>

    <script src="./app.js" defer></script>
  </body>
</html>
